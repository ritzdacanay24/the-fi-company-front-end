<div class="ul-labels-report">
  <!-- Header Section -->
  <div class="row mb-3">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <div class="d-flex justify-content-between align-items-center">
            <h4 class="card-title mb-0">
              <i class="mdi mdi-certificate me-2"></i>UL Labels Report
            </h4>
            <div class="btn-group">
              <button type="button" class="btn btn-outline-primary btn-sm" (click)="refreshData()">
                <i class="mdi mdi-refresh me-1"></i>Refresh
              </button>
              <button type="button" class="btn btn-outline-success btn-sm" (click)="exportData()">
                <i class="mdi mdi-download me-1"></i>Export
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Summary Cards -->
  <div class="row mb-3">
    <div class="col-md-3">
      <div class="card summary-card summary-primary">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div>
              <h6 class="card-title">Total Labels</h6>
              <h3 class="mb-0">{{ getStatusSummary().total }}</h3>
            </div>
            <div class="align-self-center">
              <i class="mdi mdi-certificate" style="font-size: 2rem; opacity: 0.7;"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card summary-card summary-success">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div>
              <h6 class="card-title">Active</h6>
              <h3 class="mb-0">{{ getStatusSummary().active }}</h3>
            </div>
            <div class="align-self-center">
              <i class="mdi mdi-check-circle" style="font-size: 2rem; opacity: 0.7;"></i>
            </div>
          </div>
          <button class="btn btn-link text-white p-0 mt-2" (click)="quickFilterActive()">
            <small>View Active →</small>
          </button>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card summary-card summary-warning">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div>
              <h6 class="card-title">Inactive</h6>
              <h3 class="mb-0">{{ getStatusSummary().inactive }}</h3>
            </div>
            <div class="align-self-center">
              <i class="mdi mdi-pause-circle" style="font-size: 2rem; opacity: 0.7;"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-3">
      <div class="card summary-card summary-danger">
        <div class="card-body">
          <div class="d-flex justify-content-between">
            <div>
              <h6 class="card-title">Expired</h6>
              <h3 class="mb-0">{{ getStatusSummary().expired }}</h3>
            </div>
            <div class="align-self-center">
              <i class="mdi mdi-close-circle" style="font-size: 2rem; opacity: 0.7;"></i>
            </div>
          </div>
          <button class="btn btn-link text-white p-0 mt-2" (click)="quickFilterExpired()">
            <small>View Expired →</small>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Filters Section -->
  <div class="row mb-3">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <h6 class="card-title mb-0">
            <i class="mdi mdi-filter me-1"></i>Filters
          </h6>
        </div>
        <div class="card-body">
          <form [formGroup]="filterForm">
            <div class="row">
              <div class="col-md-3">
                <div class="mb-3">
                  <label class="form-label">Search</label>
                  <input type="text" 
                         class="form-control" 
                         formControlName="search"
                         placeholder="UL Number, Description, etc.">
                </div>
              </div>
              <div class="col-md-2">
                <div class="mb-3">
                  <label class="form-label">Category</label>
                  <select class="form-select" formControlName="category">
                    <option value="">All Categories</option>
                    <option value="Electronics">Electronics</option>
                    <option value="Appliances">Appliances</option>
                    <option value="Industrial">Industrial</option>
                    <option value="Automotive">Automotive</option>
                    <option value="Medical">Medical</option>
                    <option value="Other">Other</option>
                  </select>
                </div>
              </div>
              <div class="col-md-2">
                <div class="mb-3">
                  <label class="form-label">Status</label>
                  <select class="form-select" formControlName="status">
                    <option value="">All Status</option>
                    <option value="active">Active</option>
                    <option value="inactive">Inactive</option>
                    <option value="expired">Expired</option>
                  </select>
                </div>
              </div>
              <div class="col-md-2">
                <div class="mb-3">
                  <label class="form-label">Start Date</label>
                  <input type="date" class="form-control" formControlName="startDate">
                </div>
              </div>
              <div class="col-md-2">
                <div class="mb-3">
                  <label class="form-label">End Date</label>
                  <input type="date" class="form-control" formControlName="endDate">
                </div>
              </div>
              <div class="col-md-1">
                <div class="mb-3">
                  <label class="form-label">&nbsp;</label>
                  <div class="d-grid">
                    <button type="button" 
                            class="btn btn-outline-secondary" 
                            (click)="clearFilters()">
                      <i class="mdi mdi-close"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </form>

          <!-- Quick Filter Buttons -->
          <div class="d-flex gap-2 flex-wrap">
            <button type="button" 
                    class="btn btn-outline-warning btn-sm" 
                    (click)="quickFilterExpiringSoon()">
              <i class="mdi mdi-clock-alert me-1"></i>Expiring Soon (30 days)
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Data Grid -->
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header">
          <div class="d-flex justify-content-between align-items-center">
            <h6 class="card-title mb-0">
              UL Labels ({{ filteredData.length }} of {{ ulLabels.length }})
            </h6>
            <div class="spinner-border spinner-border-sm text-primary" *ngIf="isLoading"></div>
          </div>
        </div>
        <div class="card-body p-0">
          <ag-grid-angular
            id="ul-labels-grid"
            class="ag-theme-bootstrap"
            style="height: 500px; width: 100%;"
            [columnDefs]="columnDefs"
            [defaultColDef]="defaultColDef"
            [rowData]="filteredData"
            [suppressMenuHide]="true"
            [tooltipShowDelay]="500"
            (gridReady)="onGridReady($event)">
          </ag-grid-angular>
        </div>
      </div>
    </div>
  </div>
</div>
