<!-- Bootstrap 5.3 Header - Clean and Professional -->
<div class="bg-primary bg-gradient position-relative overflow-hidden p-4 mb-4 shadow-lg" style="border-radius: 12px;">
  <!-- Background Pattern -->
  <div class="position-absolute d-none d-lg-block" style="top: -30px; right: -30px; opacity: 0.1;">
    <i class="mdi mdi-clipboard-check-outline" style="font-size: 8rem; transform: rotate(15deg);"></i>
  </div>
  
  <div class="d-flex flex-column position-relative">
    <!-- Header Top Row -->
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-3 gap-3">
      <div class="d-flex align-items-center">
        <span class="bg-white bg-opacity-20 rounded-circle d-flex align-items-center justify-content-center me-3"
              style="width: 3rem; height: 3rem;">
          <i class="mdi mdi-clipboard-check fs-4"></i>
        </span>
        <div>
          <h4 class="mb-1 fw-bold">
            {{template?.name}}
          </h4>
          <p class=" mb-0">
            Work Order: {{instance?.work_order_number}} | Status: {{instance?.status | titlecase}}
          </p>
        </div>
      </div>
      
      <button type="button" 
              class="btn btn-outline-light rounded-pill px-4 py-2 fw-semibold" 
              (click)="onGoBack()">
        <i class="mdi mdi-arrow-left me-2"></i>Back to Checklists
      </button>
    </div>
    
    <!-- Progress Section -->
    <div class="d-flex flex-column flex-sm-row align-items-start align-items-sm-center justify-content-between gap-3">
      <div class="d-flex align-items-center">
        <span class="bg-white bg-opacity-20 rounded-pill px-4 py-2 me-3 fw-semibold">
          <i class="mdi mdi-chart-line me-2"></i>
          Progress: {{completedItemsCount}} of {{totalItemsCount}} items
        </span>
        
        <span class="badge bg-success px-3 py-2 rounded-pill fw-semibold" 
              *ngIf="completedItemsCount === totalItemsCount && totalItemsCount > 0">
          <i class="mdi mdi-check-circle me-1"></i>Complete!
        </span>
      </div>
      
      <!-- Progress Bar -->
      <div class="w-100" style="max-width: 300px;">
        <div class="progress bg-white bg-opacity-20" style="height: 8px; border-radius: 4px;">
          <div class="progress-bar bg-white shadow-sm" 
               [style.width.%]="getCompletionPercentage()"
               role="progressbar"
               [attr.aria-valuenow]="completedItemsCount" 
               [attr.aria-valuemin]="0" 
               [attr.aria-valuemax]="totalItemsCount">
          </div>
        </div>
        <small class="text-white-50 d-block text-end mt-1">
          {{getCompletionPercentage() | number:'1.0-0'}}% Complete
        </small>
      </div>
    </div>
  </div>
</div>
