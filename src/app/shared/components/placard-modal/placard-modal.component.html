<div class="modal-content">
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Placard</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" (click)="dismiss()" aria-label="Close"></button>
    </div>
    <div class="modal-body" *ngIf="isLoading">
        <div class="m-5 text-center">
            <h4>
                <div class="spinner-grow text-primary mb-3" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p>Loading Data. Please wait...</p>
            </h4>
        </div>
    </div>

    <div class="modal-body" [hidden]="isLoading">
        <app-placard-form (setFormEmitter)="setFormEmitter($event)" [submitted]="submitted"></app-placard-form>
    </div>
    <div class="modal-footer">
        <button (click)="dismiss()" type="button" class="btn btn-light">Close</button>
        <button (click)="onSubmit()" type="button" class="btn btn-primary">Save & Print</button>
    </div>
</div>

<div id="pickSheet">
    <div class="d-none d-print-block" style="
    page-break-after: always;" *ngFor="let row of totalPrints; let  i = index">
        <div class="margin-bottom-10" style="margin-bottom:20px">
            <img src="https://dashboard.eye-fi.com/attachments/images/fi-company-blue-transparent.png"
                style="width: 230px;" />
        </div>
        <div class="table-responsive">
            <table class="table table-bordered" style="font-size:25px; font-weight:600;">
                <thead>
                    <tr>
                        <td style="width:43%">Created on</td>
                        <td>{{row?.created_date}}</td>
                    </tr>
                    <tr>
                        <td style="width:43%">Customer</td>
                        <td>{{row?.customer_name}}</td>
                    </tr>
                    <tr>
                        <td>Eye-Fi W.O.#</td>
                        <td>{{row?.eyefi_wo_number}}</td>
                    </tr>
                    <tr>
                        <td>P.O. #</td>
                        <td>{{row?.po_number}}</td>
                    </tr>
                    <tr>
                        <td>Eye-Fi S.O.#</td>
                        <td>{{row?.eyefi_so_number}}</td>
                    </tr>
                    <tr>
                        <td>Customer CO#/POR#/SO#</td>
                        <td>{{row?.customer_co_por_so}}</td>
                    </tr>
                    <tr>
                        <td>Description</td>
                        <td>{{row?.description}}</td>
                    </tr>
                    <tr>
                        <td>Eye-Fi P/N</td>
                        <td>{{row?.eyefi_part_number}}</td>
                    </tr>
                    <tr>
                        <td>Customer P/N</td>
                        <td>{{row?.customer_part_number}}</td>
                    </tr>
                    <tr>
                        <td>Location</td>
                        <td>{{row?.location}}</td>
                    </tr>
                    <tr>
                        <td>EyeFi Serial Tag #(s)</td>
                        <td>{{row?.eyefi_serial_tag}}</td>
                    </tr>
                    <tr>
                        <td>Customer Serial Tag #(s)</td>
                        <td>{{row?.customer_serial_tag}}</td>
                    </tr>
                    <tr>
                        <td>Qty</td>
                        <td>{{row?.qty}}</td>
                    </tr>
                </thead>
                
                <!-- Sales Order Barcode Section - Show only on first page -->
                <tr *ngIf="row?.eyefi_so_number && row?.line_number && i === 0">
                    <td colspan="2" class="text-center p-0" style="border: none;">
                        <div class="print-barcode-container">
                            <div style="font-weight: bold; margin-bottom: 10px;">SALES ORDER BARCODE</div>
                            <svg [id]="'print-barcode-' + i"></svg>
                            <div class="print-barcode-text">{{row?.eyefi_so_number}}-{{row?.line_number}}</div>
                        </div>
                    </td>
                </tr>
                
                <tr style="border: none;">
                    <td class="text-center" colspan="2" rowspan="3" style="border: none;">
                        <div>
                            {{row?.label_count}} of {{row?.total_label_count}} {{row?.uom}}
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    </div>
</div>